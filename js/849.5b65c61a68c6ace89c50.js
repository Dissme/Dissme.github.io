!function(){"use strict";var e=Object.defineProperty,t=(t,s,n)=>(((t,s,n)=>{s in t?e(t,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[s]=n})(t,"symbol"!=typeof s?s+"":s,n),n),s=(e,t,s)=>{if(!t.has(e))throw TypeError("Cannot "+s)},n=(e,t,n)=>(s(e,t,"read from private field"),n?n.call(e):t.get(e)),i=(e,t,s)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,s)},r=(e,t,n,i)=>(s(e,t,"write to private field"),i?i.call(e,n):t.set(e,n),n),o=(e,t,n)=>(s(e,t,"access private method"),n);const l=1,a=2,h=5,c=7,d=1,u=2,p=3,f=4,v=5;var g,y,m,w;class k{constructor(){i(this,g),i(this,m),t(this,"target",new EventTarget),t(this,"pool",{}),t(this,"oncePool",{}),t(this,"listeners",[])}on(e,t){"function"==typeof t&&(this.pool[e]||(this.pool[e]=new Set)).add(t)}off(e,t){var s,n,i,r,o,l;void 0===t?null==(n=null==(s=this.pool[e])?void 0:s.clear)||n.call(s):(null==(r=null==(i=this.pool[e])?void 0:i.delete)||r.call(i,t),null==(l=null==(o=this.oncePool[e])?void 0:o.delete)||l.call(o,t))}once(e,t){"function"==typeof t&&(this.oncePool[e]||(this.oncePool[e]=new Set)).add(t)}dispatch(e,t=null){var s,n,i,r;const l=new CustomEvent(e,{detail:t,cancelable:!0,bubbles:!0}),a=self.onerror;let h;const c=new WeakMap,d=[];return self.onerror=(e,t,s,n,i)=>{d.push(i),c.set(h,i)},this.listeners=[...null!=(s=this.oncePool["*"])?s:[],...null!=(n=this.oncePool[e])?n:[],...null!=(i=this.pool["*"])?i:[],...null!=(r=this.pool[e])?r:[]].map((e=>t=>{h=e;const s=e(t);d.push(s),c.set(h,s)})),this.oncePool["*"]=new Set,this.oncePool[e]=new Set,o(this,g,y).call(this,e),this.target.dispatchEvent(l),l.result=e=>c.get(e),l.results=d,self.onerror=a,o(this,m,w).call(this,e),l}}g=new WeakSet,y=function(e){this.listeners.forEach((t=>{this.target.addEventListener(e,t)}))},m=new WeakSet,w=function(e){this.listeners.forEach((t=>{this.target.removeEventListener(e,t)})),this.listeners=[]};const b=new class{constructor(){t(this,"firstPaint",!0),t(this,"currentPhase",new Map),t(this,"nextPase",new Map),t(this,"timer"),t(this,"running",!1),t(this,"circleTimes",new WeakMap),t(this,"loop",(()=>{this.nextPase.size&&(this.currentPhase=this.nextPase,this.nextPase=new Map),this.running=!0;let e,t=[];if(this.currentPhase.forEach(((s,n)=>{var i,r,o;const l=null!=(i=this.circleTimes.get(n))?i:0;l>50&&(e=new Error(`<${null!=(r=n.tag.name)?r:n.tag} key=${null!=(o=n.key)?o:""}> 该组件循环更新多次!!!`)),this.circleTimes.set(n,l+1);const a=n.id.split(",").length;(t[a]||(t[a]=[])).push((()=>{this.currentPhase.delete(n),n.diff(this.currentPhase.get(n))}))})),t.forEach((e=>e.forEach((e=>e())))),t=[],e)throw e;if(this.nextPase.size)return this.firstPaint?this.loop():setTimeout(this.loop,0);this.firstPaint=!1,this.circleTimes=new WeakMap,this.running=!1,this.timer=null}))}add(e,t){this.running&&!this.currentPhase.has(e)?this.nextPase.set(e,this.nextPase.get(e)||t):this.currentPhase.set(e,this.currentPhase.get(e)||t),!this.timer&&(this.timer=Promise.resolve().then(this.loop))}delete(e){const t=new RegExp(`^${e.id}`);this.currentPhase.forEach(((e,s)=>{t.test(s.id)&&this.currentPhase.delete(s)})),this.nextPase.forEach(((e,s)=>{t.test(s.id)&&this.nextPase.delete(s)}))}};function E(e=[],t){const s=[],n=[];return t.forEach(((i,r)=>{const o=e.findIndex((e=>function(e,t){if(!O(e,t))return!1;const i={id:t.id,curNode:t,diffrent:!1};if(e.id!==t.id&&(n.push({from:t.index,to:e.index}),t._text&&(t.id=e.id),t.index=e.index),_(e.props,t.props)||(i.diffrent=!0,Object.keys({...t.props,...e.props}).forEach((s=>{t.props[s]=e.props[s]})),i.props=t.props),!_(e.eventHandlers,t.eventHandlers)){let s=!1;t.offBindEventHandlers(),Object.keys({...t.eventHandlers,...e.eventHandlers}).forEach((n=>{(!t.eventHandlers[n]||!e.eventHandlers[n])&&(s=!0),t.eventHandlers[n]=e.eventHandlers[n]})),i.diffrent=i.diffrent||s,i.eventHandlers=t.eventHandlers,t.bindEventHandlers()}return S(e.children,t.children)||(i.diffrent=!0,t.children.splice(0,t.children.length,...e.children)),s.push(i),!0}(i,e)));o>=0&&(e[o]=null,t[r]=null)})),{updateds:s,moves:n}}const P=Symbol("IS_RENDER");function M(e){return e[P]=!0,e}function x(e,t=[]){return t}class H{constructor(e){t(this,"parent"),t(this,"destroyed",!1),t(this,"$scope",new Set),t(this,"index",0),t(this,"hook",new k),t(this,"updateHandler"),t(this,"channel"),t(this,"patchs",[]),t(this,"tag",x),t(this,"key"),t(this,"children",[]),t(this,"props",{}),t(this,"eventHandlers",{}),t(this,"results",[]),t(this,"update",(e=>{b.add(this,e)})),t(this,"destroy",(()=>{b.delete(this),this.destroyed=!0,this.parent=null,this.$scope.clear(),this.channel=null,this.offBindEventHandlers(),this.results.forEach((e=>{var t;return null==(t=e.emit)?void 0:t.call(e,{type:"destroy"})}))})),t(this,"userHook",new Proxy({},{get:(e,t)=>{t=t.replace(/_capture$/,"");const s=e=>{this.emit({type:t,detail:e})},n=e=>this.hook.on(`${t}_capture`,e);return Object.assign(n,{once:e=>{this.hook.once(`${t}_capture`,e)},off:e=>{this.hook.off(`${t}_capture`,e)}}),Object.assign(s,{on:e=>{this.hook.on(t,e)},once:e=>{this.hook.once(t,e)},off:e=>{this.hook.off(t,e)},before:n}),s}})),t(this,"post",function(e){let t=null;return function(...s){return t||(t=Promise.resolve().then((()=>{e.apply(this,s),t=null}))),t}}((()=>{this.channel&&this.patchs.length&&this.channel.postMessage(a,this.patchs),this.patchs=[]}))),Object.assign(this,e),this.hook.on("update",this.update),this.hook.on("destroy",this.destroy),this.bindEventHandlers()}static filterProps(e){if(!e)return;const t=["boolean","string","number"];return Object.keys(e).reduce(((s,n)=>t.includes(typeof e[n])?{...s,[n]:e[n]}:s),{})}static filterEventHandlers(e){if(e)return[...new Set(Object.keys(e).map((e=>e.replace(/_capture$/,""))))]}static node2obj(e){return e=e instanceof H?{id:e.id,tag:"function"==typeof e.tag?e.tag.name:e.tag,props:this.filterProps(e.props),eventHandlers:this.filterEventHandlers(e.eventHandlers),_fragment:"function"==typeof e.tag}:{id:e.id,text:e.text,_text:!0}}get id(){var e,t;return`${null!=(t=null==(e=this.parent)?void 0:e.id)?t:""},${this.index}`}callInital(e){var t;if(!this.channel)return;const s=[],n=[this];for(;n.length;){const e=n.shift();n.push(...null!=(t=e.results)?t:[]),s.push(H.node2obj(e))}this.post().finally((()=>{this.channel.postMessage(a,[{id:this.id,type:v,payload:s}],e)}))}emit(e){var t,s;const n=!(null!=(t=e.detail)&&t._eid),i=new RegExp(`^${this.id}`).test(null==(s=e.detail)?void 0:s._eid);if(!n&&!i)return;const r=e.type.replace(/_capture$/,""),o=`${r}_capture`;return e.cancelBubble||(e=this.hook.dispatch(o,e.detail)),n||this.results.forEach((t=>{var s,n;e=null!=(n=null==(s=t.emit)?void 0:s.call(t,e))?n:e})),!(e=e.cancelBubble?e:this.hook.dispatch(r,e.detail)).defaultPrevented&&!["update","destroy"].includes(r)&&e.results.length&&(e.results.forEach((e=>{var t;null==(t=null==e?void 0:e.then)||t.call(e,(()=>{this.$scope.forEach((e=>{e.destroyed?this.$scope.delete(e):e.emit({type:"update"})}))}))})),this.$scope.forEach((e=>{e.destroyed?this.$scope.delete(e):e.emit({type:"update"})}))),e}setResults(e){this.results=W([e]).map(((e,t)=>{var s,n,i;if(e instanceof H){e.parent=this,e.index=t,e.$scope.add(this);const r=[...e.children];for(;r.length;){const e=r.pop();null!=(s=e.children)&&s.length&&r.push(...e.children),null==(i=null==(n=null==e?void 0:e.$scope)?void 0:n.add)||i.call(n,this)}}else e={id:`${this.id},${t}`,index:t,text:e+"",_text:!0};return e}))}callOut(e,t,s){const n=this.patchs[this.patchs.length-1];(null==n?void 0:n.id)===e&&n.type<p&&t===u?Object.assign(n.payload,s):this.patchs.push({id:e,type:t,payload:s}),this.post()}bindEventHandlers(){Object.keys(this.eventHandlers).forEach((e=>{this.hook.on(e,this.eventHandlers[e])}))}offBindEventHandlers(){Object.keys(this.eventHandlers).forEach((e=>{this.hook.off(e,this.eventHandlers[e])}))}diff(e){if(this.destroyed)return;const t=[...this.results];let s=this.children;if("function"==typeof this.tag&&(s=this.fetch()),this.results===s)return;this.setResults(s);const n=[...this.results],{updateds:i,moves:r}=E(t,n);i.forEach((t=>{var s,n;t.diffrent&&this.callOut(t.id,u,{props:H.filterProps(t.props),eventHandlers:H.filterEventHandlers(t.eventHandlers)}),this.results[t.curNode.index]=t.curNode,(t.diffrent||e)&&(null==(n=(s=t.curNode).emit)||n.call(s,{type:"update"}))})),t.forEach((e=>{var t;e&&(this.callOut(e.id,p),null==(t=e.emit)||t.call(e,{type:"destroy"}))})),r.forEach((({from:e,to:t})=>{this.callOut(`${this.id},${e}`,f,{id:`${this.id},${t}`})})),n.forEach((e=>{e&&(this.callOut(e.id,d,H.node2obj(e)),e instanceof H&&(e.channel=this.channel,e.emit({type:"update"})))}))}fetch(){var e,t;const s=null!=(e=this.updateHandler)?e:this.tag.bind(null,this.props,this.children,this.userHook);this.hook.once("__fetch__",s);let n=this.hook.dispatch("__fetch__").result(s);return n instanceof Error&&(n=null!=(t=this.results)?t:[]),"function"==typeof n&&n[P]&&(this.updateHandler=n,n=n()),n}}function $(e){return e.map((e=>"function"==typeof e&&e[P]?$([e()]):Array.isArray(e)?$(e):e instanceof H?new e.constructor({tag:e.tag,props:{...e.props},children:[...e.children],$scope:new Set(e.$scope.values()),key:e.key,eventHandlers:{...e.eventHandlers}}):e))}function W(e){return $(e).flat(1/0).filter((e=>!!e))}function _(e,t){if(e===t)return!0;if(typeof e!=typeof t||"object"!=typeof e||!e||!t)return!1;const s=Object.keys({...e,...t});for(let n=0;n<s.length;n++){const i=s[n];if(!_(e[i],t[i]))return!1}return!0}function O(e,t){return e===t||!(!e||!t)&&(e+""==t+""&&e.tag+""==t.tag+""&&e.key===t.key&&e.text===t.text)}function S(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;let s=e.length;for(;s--;){const n=e[s],i=t[s];if(!(O(n,i)&&_(n.props,i.props)&&_(n.eventHandlers,i.eventHandlers)&&S(n.children,i.children)))return!1}return!0}class j{constructor(e){t(this,"port"),this.port=e}static getInstance(e){if(this.map.has(e))return this.map.get(e);const t=new this(e);return this.map.set(e,t),t}}t(j,"map",new WeakMap);class T extends j{constructor(e){super(e),t(this,"lastTime",performance.now()),t(this,"count",0),this.postMessage({type:l})}get version(){return`${this.lastTime}-${this.count}`}postMessage(e){e.prev=this.version,e.current=this.updateVersion(),this.port.postMessage(e)}updateVersion(){const e=performance.now();return e!==this.lastTime?(this.lastTime=e,this.count=0):this.count++,this.version}}t(T,"map",new WeakMap);class C extends j{constructor(e){var s;super(e),t(this,"version",""),t(this,"buffer",{}),t(this,"hook",new k),t(this,"onMessage",(({data:e})=>{const{type:t,current:s,prev:n}=e;if(t===l){if(this.version)return;this.version=s,this.hook.dispatch(t)}else this.buffer[n]=e;this.readBuffer()})),e.addEventListener("message",this.onMessage),null==(s=e.start)||s.call(e)}readBuffer(){if(!this.version)return;const e=Object.keys(this.buffer).sort(((e,t)=>{const[s,n]=e.split("-"),[i,r]=t.split("-");return s-i||n-r})),[t,s]=this.version.split("-");for(;e.length;){const n=e.pop(),[i,r]=n.split("-");if(+i<+t||i===t&&+r<+s){Reflect.deleteProperty(this.buffer,n);continue}if(this.version!==n)return;const{type:o,current:l,...a}=this.buffer[n];this.version=l,Reflect.deleteProperty(this.buffer,n),this.hook.dispatch(o,a)}}register(e,t){e===l?this.version?this.hook.once(e,t):t():this.hook.on(e,t)}unregister(e,t){this.hook.off(e,t)}}var N,R,B;t(C,"map",new WeakMap);class I{constructor(){i(this,N,void 0),i(this,R,void 0),i(this,B,{}),t(this,"destroyed",!0)}connect(e){this.destroyed||this.destroy(),r(this,R,C.getInstance(e)),r(this,N,T.getInstance(e)),this.destroyed=!1}register(e,t){n(this,B)[e]=e=>t(null==e?void 0:e.detail),n(this,R).register(e,n(this,B)[e])}postMessage(e,t){const s=n(this,N).version;return n(this,N).postMessage({type:e,body:t}),s}destroy(){this.destroyed||(this.postMessage(c),Object.keys(n(this,B),(e=>{n(this,R).unregister(e,n(this,B)[e])})),r(this,B,{}),r(this,N,null),r(this,R,null))}}N=new WeakMap,R=new WeakMap,B=new WeakMap;class L extends H{constructor(){super(...arguments),t(this,"microChannel"),t(this,"lastPort"),t(this,"inited",!1),t(this,"patchHandler",(({body:e})=>{e[0].type===v&&(this.inited=!0),this.inited&&this.channel.postMessage(a,e.map((({id:e,type:t,payload:s})=>{const n={id:`${this.id}${e}`,type:t,payload:s};return t===v&&(n.payload=s.map((e=>({...e,id:`${this.id}${e.id}`})))),t===f&&(n.payload={...s,id:`${this.id}${s.id}`}),n})))}))}diff(){var e,t;this.lastPort!==this.props.port&&(this.lastPort=this.props.port,null==(t=null==(e=this.microChannel)?void 0:e.destroy)||t.call(e),this.inited=!1,this.microChannel=new I,this.microChannel.connect(this.props.port),this.microChannel.register(a,this.patchHandler),this.microChannel.register(c,(()=>this.destroy())))}emit(e){var t;const s=new RegExp(`^${this.id}`),n=s.test(null==(t=e.detail)?void 0:t._eid),i=e.type.replace(/_capture$/,"");return n&&this.microChannel.postMessage(h,{type:i,detail:{...e.detail,_eid:e.detail._eid.replace(s,"")}}),super.emit(e)}destroy(){var e,t;super.destroy(),null==(t=null==(e=this.microChannel)?void 0:e.destroy)||t.call(e),this.microChannel=null,this.lastPort=null}}function V(){}function z(e,t,s){if("function"!=typeof e&&"string"!=typeof e)throw new TypeError(`意外的tag类型<${e}>`);const n=e===V?L:H;let{children:i,eventHandlers:r,props:o}=function(e){const t={children:[],eventHandlers:{},props:{}};return Object.keys(e).forEach((s=>{"children"===s?t.children=e[s]:/^on-/.test(s)?t.eventHandlers[s.replace(/^on-/,"")]=e[s]:/^before-/.test(s)?t.eventHandlers[s.replace(/^before-/,"")+"_capture"]=e[s]:t.props[s]=e[s]})),t}(t);return i=W(i),new n({tag:e,props:o,children:i,eventHandlers:r,key:s})}function A(e,t,s){return t.children=[t.children],z(e,t,s)}new WeakMap,new WeakMap;const D="getPathName";var G=Object.defineProperty,q=(e,t,s)=>(((e,t,s)=>{t in e?G(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s})(e,"symbol"!=typeof t?t+"":t,s),s),F=(e,t,s)=>{if(!t.has(e))throw TypeError("Cannot "+s)},J=(e,t,s)=>(F(e,t,"read from private field"),s?s.call(e):t.get(e)),K=(e,t,s)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,s)},Q=(e,t,s,n)=>(F(e,t,"write to private field"),n?n.call(e,s):t.set(e,s),s),U=(e,t,s)=>(F(e,t,"access private method"),s);const X=1,Y=3,Z=4,ee=5,te=6,se=7;var ne,ie,re,oe,le,ae,he,ce,de,ue,pe,fe,ve;class ge{constructor(){K(this,ne),K(this,re),q(this,"target",new EventTarget),q(this,"pool",{}),q(this,"oncePool",{}),q(this,"listeners",[])}on(e,t){"function"==typeof t&&(this.pool[e]||(this.pool[e]=new Set)).add(t)}off(e,t){var s,n,i,r,o,l;void 0===t?null==(n=null==(s=this.pool[e])?void 0:s.clear)||n.call(s):(null==(r=null==(i=this.pool[e])?void 0:i.delete)||r.call(i,t),null==(l=null==(o=this.oncePool[e])?void 0:o.delete)||l.call(o,t))}once(e,t){"function"==typeof t&&(this.oncePool[e]||(this.oncePool[e]=new Set)).add(t)}dispatch(e,t=null){var s,n,i,r;const o=new CustomEvent(e,{detail:t,cancelable:!0,bubbles:!0}),l=self.onerror;let a;const h=new WeakMap,c=[];return self.onerror=(e,t,s,n,i)=>{c.push(i),h.set(a,i)},this.listeners=[...null!=(s=this.oncePool["*"])?s:[],...null!=(n=this.oncePool[e])?n:[],...null!=(i=this.pool["*"])?i:[],...null!=(r=this.pool[e])?r:[]].map((e=>t=>{a=e;const s=e(t);c.push(s),h.set(a,s)})),this.oncePool["*"]=new Set,this.oncePool[e]=new Set,U(this,ne,ie).call(this,e),this.target.dispatchEvent(o),o.result=e=>h.get(e),o.results=c,self.onerror=l,U(this,re,oe).call(this,e),o}}ne=new WeakSet,ie=function(e){this.listeners.forEach((t=>{this.target.addEventListener(e,t)}))},re=new WeakSet,oe=function(e){this.listeners.forEach((t=>{this.target.removeEventListener(e,t)})),this.listeners=[]};class ye{constructor(e){q(this,"port"),this.port=e}static getInstance(e){if(this.map.has(e))return this.map.get(e);const t=new this(e);return this.map.set(e,t),t}}q(ye,"map",new WeakMap);class me extends ye{constructor(e){super(e),q(this,"lastTime",performance.now()),q(this,"count",0),this.postMessage({type:X})}get version(){return`${this.lastTime}-${this.count}`}postMessage(e){e.prev=this.version,e.current=this.updateVersion(),this.port.postMessage(e)}updateVersion(){const e=performance.now();return e!==this.lastTime?(this.lastTime=e,this.count=0):this.count++,this.version}}q(me,"map",new WeakMap);class we extends ye{constructor(e){var t;super(e),q(this,"version",""),q(this,"buffer",{}),q(this,"hook",new ge),q(this,"onMessage",(({data:e})=>{const{type:t,current:s,prev:n}=e;if(t===X){if(this.version)return;this.version=s,this.hook.dispatch(t)}else this.buffer[n]=e;this.readBuffer()})),e.addEventListener("message",this.onMessage),null==(t=e.start)||t.call(e)}readBuffer(){if(!this.version)return;const e=Object.keys(this.buffer).sort(((e,t)=>{const[s,n]=e.split("-"),[i,r]=t.split("-");return s-i||n-r})),[t,s]=this.version.split("-");for(;e.length;){const n=e.pop(),[i,r]=n.split("-");if(+i<+t||i===t&&+r<+s){Reflect.deleteProperty(this.buffer,n);continue}if(this.version!==n)return;const{type:o,current:l,...a}=this.buffer[n];this.version=l,Reflect.deleteProperty(this.buffer,n),this.hook.dispatch(o,a)}}register(e,t){e===X?this.version?this.hook.once(e,t):t():this.hook.on(e,t)}unregister(e,t){this.hook.off(e,t)}}q(we,"map",new WeakMap);class ke{constructor(){K(this,le,void 0),K(this,ae,void 0),K(this,he,{}),q(this,"destroyed",!0)}connect(e){this.destroyed||this.destroy(),Q(this,ae,we.getInstance(e)),Q(this,le,me.getInstance(e)),this.destroyed=!1}register(e,t){J(this,he)[e]=e=>t(null==e?void 0:e.detail),J(this,ae).register(e,J(this,he)[e])}postMessage(e,t){const s=J(this,le).version;return J(this,le).postMessage({type:e,body:t}),s}destroy(){this.destroyed||(this.postMessage(se),Object.keys(J(this,he),(e=>{J(this,ae).unregister(e,J(this,he)[e])})),Q(this,he,{}),Q(this,le,null),Q(this,ae,null))}}le=new WeakMap,ae=new WeakMap,he=new WeakMap;class be extends ke{constructor(){super(...arguments),K(this,ce,{}),K(this,de,new ge),q(this,"timeout",3e3),K(this,ue,(async({body:{methodName:e,params:t},prev:s})=>{var n,i;const r=await(null==(i=null==(n=J(this,ce)[e])?void 0:n.call)?void 0:i.call(n,null,t));super.postMessage(Z,{result:r,prev:s})})),K(this,pe,(({body:{result:e,prev:t}})=>{J(this,de).dispatch(t,e)})),K(this,fe,(({body:{methodName:e,params:t}})=>{var s,n;null==(n=null==(s=J(this,ce)[e])?void 0:s.call)||n.call(s,null,t)}))}connect(e){super.connect(e),super.register(Y,J(this,ue)),super.register(Z,J(this,pe)),super.register(te,J(this,fe))}register(e,t){J(this,ce)[e]=t}unregister(e){Reflect.deleteProperty(J(this,ce),e)}postMessage(e,t){super.postMessage(te,{methodName:e,params:t})}sendMessage(e,t){const s=super.postMessage(Y,{methodName:e,params:t});return new Promise(((e,t)=>{J(this,de).once(s,(({detail:t})=>e(t))),setTimeout((()=>{J(this,de).off(s),t("timeout")}),this.timeout)}))}}ce=new WeakMap,de=new WeakMap,ue=new WeakMap,pe=new WeakMap,fe=new WeakMap;class Ee{constructor(){K(this,ve,[])}connect(e){const t=new ke;return t.connect(e),J(this,ve).push(t)-1}disconnect(e){var t,s;null==(s=null==(t=J(this,ve)[e])?void 0:t.destroy)||s.call(t),J(this,ve)[e]=null}postMessage(e,t,...s){let n=J(this,ve);s.length&&(n=n.filter(((e,t)=>e&&s.includes(t)))),n.forEach((s=>{s.postMessage(e,t)}))}register(e,t,s){var n;null==(n=J(this,ve)[s])||n.register(e,t)}destroy(){J(this,ve).forEach((e=>{var t;return null==(t=null==e?void 0:e.destroy)?void 0:t.call(e)})),Q(this,ve,[])}}function Pe(e){const t=new Ee;return e.channel=t,e.diff(),function(s){const n=t.connect(s);return t.register(X,(()=>e.callInital(n)),n),t.register(ee,(({body:t})=>{t.cid=n,e.emit(t)}),n),t.register(se,(()=>t.disconnect(n))),n}}ve=new WeakMap;const Me=function(e){void 0===e&&(e="");const t=new Set;function s(){return arguments.length>0&&(e=arguments.length<=0?void 0:arguments[0],t.forEach((e=>null==e?void 0:e.update(!0)))),e}return s.collect=e=>{t.add(e),e.destroy.before((()=>{t.delete(e)}))},s}("/"),xe=[{href:"/",name:"首页"},{href:"/example.html",name:"指引"},{href:"/docs.html",name:"文档"},{split:!0},{href:"https://github.com/Dissme/easy-view",icon:A("svg",{viewBox:"0 0 16 16",class:"w-6 h-6",fill:"currentColor","aria-hidden":"true",children:A("path",{d:"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"})})}];function He(e){let{href:t,name:s,icon:n,split:i}=e;if(i)return M((()=>A("div",{className:"w-px bg-slate-50/30 mx-3 h-full"})));const r=t===Me(),o=r?"span":"a",l=r?{}:{rel:"noopener noreferrer",target:"_blank",href:t};return M((()=>A(o,{className:r?"text-sky-500 cursor-default":"hover:text-sky-500 cursor-pointer",...l,children:null!=n?n:s})))}const $e=Pe(A((function(e,t,s){return Me.collect(s),M((()=>z("nav",{className:"flex items-center px-6",children:[A("a",{href:"/",className:"bg-gradient-to-r text-transparent from-sky-500 to-pink-300 bg-clip-text text-2xl flex-initial",children:"easy-view"}),A("div",{className:"flex-1"}),A("ol",{className:"flex space-x-4 flex-initial",children:xe.map((e=>A("li",{children:He(e)},e.href)))})]})))}),{}));!function(){var e;const t={SharedWorkerGlobalScope(){self.onconnect=e=>{let{ports:t}=e;t.forEach((e=>{$e(e)}))}},DedicatedWorkerGlobalScope(){const e=new be;e.connect(self),e.sendMessage(D).then(Me),$e(self)}};null===(e=t[self.constructor.name])||void 0===e||e.call(t)}()}();